<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Bern√©s 3D bajo la luna</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:#02030a;
  font-family:Arial, Helvetica, sans-serif;
}

/* FRASES ESTRELLAS */
.star-text{
  position:fixed;
  color:white;
  font-size:14px;
  font-weight:bold;
  pointer-events:none;
  text-shadow:
    0 0 8px #fff,
    0 0 15px #8fd3ff;
  white-space:nowrap;
  z-index:10;
}
</style>
</head>

<body>

<script>
/* ======================
   FRASES
====================== */
const PHRASES = [
  "Eres mi estrella ‚ú®",
  "Siempre contigo üíñ",
  "Amor infinito",
  "Mi lugar seguro",
  "Bajo esta luna, t√∫",
  "Eres mi hogar",
  "Te elijo siempre",
  "Brillas en mi vida"
];

let starsText = [];

/* ======================
   ESCENA
====================== */
const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(
  70, innerWidth/innerHeight, 0.1, 1000
);
camera.position.set(0,10,45);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* ======================
   LUCES
====================== */
scene.add(new THREE.AmbientLight(0xffffff,0.25));

const moonLight = new THREE.PointLight(0xbfdcff,2,300);
moonLight.position.set(-30,50,-20);
scene.add(moonLight);

/* ======================
   LUNA WOW üåô
====================== */
const moonGeo = new THREE.SphereGeometry(10,64,64);
const moonMat = new THREE.MeshStandardMaterial({
  color:0xe6f2ff,
  roughness:0.7,
  metalness:0.05,
  emissive:0x99ccff,
  emissiveIntensity:0.25
});
const moon = new THREE.Mesh(moonGeo, moonMat);
moon.position.set(-25,35,-60);
scene.add(moon);

/* HALO */
const haloGeo = new THREE.SphereGeometry(11.5,32,32);
const haloMat = new THREE.MeshBasicMaterial({
  color:0x99ccff,
  transparent:true,
  opacity:0.15
});
const halo = new THREE.Mesh(haloGeo, haloMat);
halo.position.copy(moon.position);
scene.add(halo);

/* ======================
   MONTA√ëA
====================== */
const mountainGeo = new THREE.ConeGeometry(80,35,64,12);
const mountainMat = new THREE.MeshStandardMaterial({
  color:0x0a0f1e,
  roughness:1
});
const mountain = new THREE.Mesh(mountainGeo, mountainMat);
mountain.position.y = -18;
scene.add(mountain);

/* ======================
   BERN√âS DE MONTA√ëA (PART√çCULAS)
====================== */
const COUNT = 6000;
const pos = new Float32Array(COUNT*3);

/* Silueta aproximada */
function dogShape(t){
  const x = (Math.sin(t*3)*8) + Math.cos(t)*12;
  const y = Math.cos(t*2)*6;
  const z = (Math.random()-0.5)*4;
  return {x,y,z};
}

for(let i=0;i<COUNT;i++){
  let p = dogShape(Math.random()*Math.PI*2);
  pos[i*3]   = p.x;
  pos[i*3+1] = p.y;
  pos[i*3+2] = p.z;
}

const dogGeo = new THREE.BufferGeometry();
dogGeo.setAttribute('position', new THREE.BufferAttribute(pos,3));

const dogMat = new THREE.PointsMaterial({
  size:0.35,
  color:0xffffff,
  transparent:true,
  opacity:0.9,
  blending:THREE.AdditiveBlending
});

const dog = new THREE.Points(dogGeo,dogMat);
dog.position.y = -2;
scene.add(dog);

/* ======================
   ESTRELLAS FUGACES + FRASES
====================== */
function spawnStar(){
  const el = document.createElement("div");
  el.className = "star-text";
  el.textContent = PHRASES[Math.floor(Math.random()*PHRASES.length)];
  document.body.appendChild(el);

  starsText.push({
    el,
    x: Math.random()*innerWidth,
    y: -50,
    vx: -2 - Math.random()*2,
    vy: 4 + Math.random()*3,
    life: 0
  });
}

setInterval(spawnStar, 900);

/* ======================
   ANIMACI√ìN
====================== */
const clock = new THREE.Clock();

function animate(){
  requestAnimationFrame(animate);
  const t = clock.getElapsedTime();

  /* perro respirando */
  dog.rotation.y = Math.sin(t*0.4)*0.15;
  dog.scale.set(
    1+Math.sin(t*2)*0.02,
    1+Math.sin(t*2)*0.02,
    1
  );

  /* luna sutil */
  halo.scale.setScalar(1 + Math.sin(t)*0.03);

  /* estrellas */
  for(let i=starsText.length-1;i>=0;i--){
    const s = starsText[i];
    s.x += s.vx;
    s.y += s.vy;
    s.life += 1;

    s.el.style.transform =
      `translate(${s.x}px, ${s.y}px)`;

    if(s.y > innerHeight+100){
      s.el.remove();
      starsText.splice(i,1);
    }
  }

  renderer.render(scene,camera);
}
animate();

/* ======================
   RESIZE
====================== */
addEventListener("resize",()=>{
  camera.aspect = innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>

</body>
</html>
